#中夜班计算思路#
 
     中班区间 16:00-24:00
    
     夜班区间 00:00-00:08
    
     班次开始时间在02:00-次日02:00区间内的记作当天班次

	 在考勤列表新增两列 夜班个数 中班个数

**新增表结构 kq_MiddleNightShift** *暂定以下字段*

`标识ID`  `MiddleNightShiftID`

`员工ID` `P_PersonnelID`

`夜班时长`  `单位min`  `M_NightLong`

`中班时长`  `单位min`  `M_MiddleLong`

----------
### 谁去维护表数据 ###

1. 班次统计 **人为确定** 所有班次的出勤时长、中班时长、夜班时长
2. 加班流程 **系统** 维护中班时长、夜班时长
3. 请假流程 **系统** 维护中班时长、夜班时长

----------
### 谁取用表数据 ###

   *考勤列表每一行 展示中班夜班个数*
		
   
	以日为周期计算中夜班时长
	
	中班时长=中班班次时长+中班加班时长-中班请假时长

	夜班时长=夜班班次时长+夜班加班时长-夜班请假时长

    
	
**中夜班个数计算 分情况**

1. 只有中班和夜班时长情况

       `中班个数：中班时长<4,记0个中班；4<=中班时长<6,记0.5个中班；中班时长>6,记1个中班；`
   		
    
       `夜班个数：夜班时长<4,记0个夜班；4<=夜班时长<6,记0.5个夜班；夜班时长>6,记1个夜班；`
       
2. 既有中班也有夜班时长

   
	`夜班优先计算个数`
	1. `nightSurplusLong=不满足夜班时长>4 的时长`
	2. `nightSurplusLong=满足夜班时长>=4 and 夜班时长<6 后 记0.5时长 夜班时长-4`
	3. `nightSurplusLong=满足夜班时长>=6 后 记1时长 夜班时长-8`
	
	计算总中班时长
	
	`totalMiddleLong= middleLong+nightSurplusLong`

	`中班个数：totalMiddleLong<4,记0个中班；4<totalMiddleLong<6,记0.5个中班；totalMiddleLong>6,记1个中班；`
3.  分别累计每日中夜班个数求月度中夜班个数


     `totalMiddleLong=总中班时长`

     `nightSurplusLong=剩余夜班时长`

     `middleLong=中班时长`

     `nightLong=夜班时长`



 
